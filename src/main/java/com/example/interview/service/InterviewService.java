package com.example.interview.service;

import org.springframework.stereotype.Service;
import java.util.HashMap;
import java.util.Map;

@Service
public class InterviewService {
    private static final Map<String, Map<String, String>> PROMPT_MAP = new HashMap<>();
    static {
        // 人工智能
        Map<String, String> aiMap = new HashMap<>();
        aiMap.put("AI工程师", "请你扮演人工智能专业的AI工程师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加AI工程师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与人工智能相关的项目或经验。准备好后请直接开始。");
        aiMap.put("AI研究员", "请你扮演人工智能专业的AI研究员岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加AI研究员岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与人工智能相关的项目或经验。准备好后请直接开始。");
        PROMPT_MAP.put("人工智能", aiMap);
        // 大数据
        Map<String, String> dataMap = new HashMap<>();
        dataMap.put("数据工程师", "请你扮演大数据专业的数据工程师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加数据工程师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与大数据相关的项目或经验。准备好后请直接开始。");
        dataMap.put("数据科学家", "请你扮演大数据专业的数据科学家岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加数据科学家岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与数据分析、建模相关的经验。准备好后请直接开始。");
        PROMPT_MAP.put("大数据", dataMap);
        // 物联网
        Map<String, String> iotMap = new HashMap<>();
        iotMap.put("物联网工程师", "请你扮演物联网专业的物联网工程师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加物联网工程师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与物联网相关的项目或经验。准备好后请直接开始。");
        iotMap.put("IoT架构师", "请你扮演物联网专业的IoT架构师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加IoT架构师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与IoT系统架构相关的经验。准备好后请直接开始。");
        PROMPT_MAP.put("物联网", iotMap);
        // 智能系统
        Map<String, String> sysMap = new HashMap<>();
        sysMap.put("系统工程师", "请你扮演智能系统专业的系统工程师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加系统工程师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与系统设计、优化相关的经验。准备好后请直接开始。");
        sysMap.put("DevOps工程师", "请你扮演智能系统专业的DevOps工程师岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加DevOps工程师岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与自动化运维、CI/CD相关的经验。准备好后请直接开始。");
        PROMPT_MAP.put("智能系统", sysMap);
        // 产品管理
        Map<String, String> pmMap = new HashMap<>();
        pmMap.put("产品经理", "请你扮演产品管理专业的产品经理岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加产品经理岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与产品规划、需求分析相关的经验。准备好后请直接开始。");
        pmMap.put("技术产品经理", "请你扮演产品管理专业的技术产品经理岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加技术产品经理岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与技术产品规划、团队协作相关的经验。准备好后请直接开始。");
        PROMPT_MAP.put("产品管理", pmMap);
    }

    public String getPrompt(String scene, String position) {
        return PROMPT_MAP.getOrDefault(scene, new HashMap<>())
                .getOrDefault(position, String.format("请你扮演%s专业的%s岗位的面试官，现在有用户作为面试者，请你为他/她进行该岗位的面试，你可以先请面试者做一个自我介绍，并在后续根据面试者的情况提出更多该领域或和面试者相关的问题。你可以这样开场：你好，欢迎参加%s岗位面试。我是本岗位的面试官。请你先做一个简短的自我介绍，突出你与该岗位相关的能力或经验。准备好后请直接开始。", scene, position, position));
    }
} 